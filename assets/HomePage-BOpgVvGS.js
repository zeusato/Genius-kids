import{r as n,j as e,X as C,u as I,a as $,b as B,G as E,i as G,C as L,D as M,g as H}from"./index-DVUD5Br3.js";import{L as R}from"./lock-BeQ5ORqs.js";import{U}from"./user-BvXKIFUE.js";import{M as F}from"./MusicControls-XuubIzWy.js";import{P as K}from"./plus-BZlDJnOY.js";import"./volume-x-Df6LO6bw.js";const V=({profiles:o,onAddStars:c,onClose:i})=>{var p;const[m,d]=n.useState(""),[b,j]=n.useState(!1),[u,v]=n.useState(((p=o[0])==null?void 0:p.id)||""),[x,a]=n.useState(100),[h,f]=n.useState(""),g=s=>{s.preventDefault(),m==="GoD"?(j(!0),f("")):(f("Sai máº­t kháº©u!"),setTimeout(()=>{i()},1e3))},N=()=>{u&&c(u,x)},l=o.find(s=>s.id===u);return b?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",children:e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-1 rounded-2xl shadow-2xl",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-600",children:"ðŸ”§ Dev Tools"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Chá»‰ dÃ nh cho developer"})]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(C,{size:24})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(U,{size:16}),"Chá»n há»c sinh"]}),e.jsx("select",{value:u,onChange:s=>v(s.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:border-purple-500 text-lg font-semibold bg-white cursor-pointer",children:o.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - Lá»›p ",s.grade]},s.id))})]}),l&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-4 mb-6",children:[e.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Sá»‘ sao hiá»‡n táº¡i cá»§a ",l.name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:"â­"}),e.jsx("span",{className:"text-3xl font-bold text-orange-600",children:l.stars})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"ThÃªm sá»‘ sao"}),e.jsx("input",{type:"number",value:x,onChange:s=>a(Math.max(0,parseInt(s.target.value)||0)),className:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:border-purple-500 text-lg font-semibold text-center",min:"0",step:"10"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-6",children:[10,50,100,500].map(s=>e.jsxs("button",{onClick:()=>a(s),className:"px-3 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg transition-colors text-sm font-semibold",children:["+",s]},s))}),e.jsxs("button",{onClick:N,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg",children:["âœ¨ ThÃªm ",x," sao cho ",l==null?void 0:l.name]}),e.jsx("p",{className:"text-xs text-center text-slate-400 mt-4",children:"âš ï¸ Chá»‰ dÃ¹ng Ä‘á»ƒ test, khÃ´ng share vá»›i ngÆ°á»i dÃ¹ng"})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",children:e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-1 rounded-2xl shadow-2xl",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-sm w-full relative",children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(C,{size:20})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:e.jsx(R,{size:32,className:"text-purple-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-purple-600",children:"ðŸ”’ Dev Tools"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Nháº­p máº­t kháº©u Ä‘á»ƒ tiáº¿p tá»¥c"})]}),e.jsxs("form",{onSubmit:g,children:[e.jsx("input",{type:"password",value:m,onChange:s=>d(s.target.value),placeholder:"Nháº­p máº­t kháº©u...",className:`w-full px-4 py-3 border-2 ${h?"border-red-500":"border-purple-200"} rounded-xl focus:outline-none focus:border-purple-500 text-center font-semibold mb-4`,autoFocus:!0}),h&&e.jsxs("p",{className:"text-red-500 text-sm text-center mb-4 animate-pulse",children:["âŒ ",h]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg",children:"ðŸ”“ Má»Ÿ khÃ³a"})]})]})})})},S=({onClick:o,children:c,variant:i="primary",className:m=""})=>{const d="px-6 py-3 rounded-xl font-bold transition-all flex items-center justify-center",b={primary:"bg-brand-500 hover:bg-brand-600 text-white shadow-lg hover:shadow-xl",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800"};return e.jsx("button",{onClick:o,className:`${d} ${b[i]} ${m}`,children:c})},X=({children:o,className:c=""})=>e.jsx("div",{className:`bg-white p-6 rounded-2xl shadow-md border border-gray-100 ${c}`,children:o});function Z({onInstallClick:o,canInstall:c,showVersionCheck:i}){const m=I(),{students:d}=$(),{setStudent:b,addStudent:j,updateStudent:u}=B(),[v,x]=n.useState(!1),[a,h]=n.useState({name:"",grade:E.Grade2}),[f,g]=n.useState(!1),[N,l]=n.useState(0),[p,s]=n.useState(null),w=n.useRef(null);n.useEffect(()=>{G()},[]);const T=()=>{const t=N+1;l(t),w.current&&clearTimeout(w.current),t>=7?(g(!0),l(0)):w.current=setTimeout(()=>l(0),2e3)},z=(t,r)=>{const y=d.find(D=>D.id===t);if(!y)return;const k={...y,stars:y.stars+r};u(k),(p==null?void 0:p.id)===t&&s(k)},P=()=>{a.name&&(j(a.name,a.grade),x(!1))},A=t=>{s(t),b(t),m("/mode")};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 space-y-8 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]",children:[e.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 py-4 pointer-events-none",children:[i&&e.jsxs("div",{className:"pointer-events-auto flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2.5 rounded-lg shadow-md border border-green-200 animate-in fade-in slide-in-from-top duration-500 h-[44px]",children:[e.jsx(L,{size:18,className:"flex-shrink-0"}),e.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:"Newest Version"})]}),!i&&e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"pointer-events-auto",children:e.jsx(F,{})}),c&&e.jsxs("button",{onClick:o,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-white border border-brand-500 text-brand-600 rounded-lg shadow-md hover:bg-brand-50 hover:shadow-lg transition-all font-semibold h-[44px] animate-bounce",children:[e.jsx(M,{size:18,className:"flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline whitespace-nowrap",children:"Táº£i App"})]})]})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{onClick:T,className:"text-5xl font-extrabold text-brand-600 tracking-tight drop-shadow-sm cursor-pointer select-none",children:"Genius Kids"}),e.jsx("p",{className:"text-xl text-slate-500",children:"Há»c toÃ¡n tháº­t vui!"})]}),v?e.jsxs(X,{className:"w-full max-w-md animate-in fade-in zoom-in duration-300",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Táº¡o há»“ sÆ¡ má»›i"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"TÃªn cá»§a bÃ©"}),e.jsx("input",{type:"text",value:a.name,onChange:t=>h({...a,name:t.target.value}),className:"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-brand-500 focus:outline-none text-lg",placeholder:"VÃ­ dá»¥: Bi, Na..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"Lá»›p"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(t=>e.jsx("button",{onClick:()=>h({...a,grade:t}),className:`p-2 rounded-lg font-bold border-2 ${a.grade===t?"bg-brand-500 text-white border-brand-600":"bg-white border-gray-200 text-slate-500"}`,children:t},t))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(S,{variant:"secondary",className:"flex-1",onClick:()=>x(!1),children:"Há»§y"}),e.jsx(S,{className:"flex-1",onClick:P,children:"Báº¯t Ä‘áº§u ngay"})]})]})]}):e.jsxs("div",{className:"w-full max-w-2xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.map(t=>{const r=H(t.currentAvatarId);return e.jsxs("button",{onClick:()=>A(t),className:"group relative bg-white p-6 rounded-3xl shadow-xl hover:shadow-2xl transition-all border-2 border-transparent hover:border-brand-400 text-left flex items-center space-x-4",children:[e.jsx("div",{className:"bg-brand-50 p-3 rounded-2xl group-hover:scale-110 transition-transform",children:r!=null&&r.isEmoji?e.jsx("span",{className:"text-5xl",children:r.imagePath}):e.jsx("img",{src:r==null?void 0:r.imagePath,alt:r==null?void 0:r.name,className:"w-16 h-16 rounded-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-800 group-hover:text-brand-600",children:t.name}),e.jsxs("p",{className:"text-slate-500 font-medium",children:["Lá»›p ",t.grade]})]})]},t.id)}),e.jsxs("button",{onClick:()=>x(!0),className:"flex flex-col items-center justify-center p-6 rounded-3xl border-4 border-dashed border-brand-200 text-brand-400 hover:bg-brand-50 hover:border-brand-400 hover:text-brand-600 transition-all h-full min-h-[140px]",children:[e.jsx(K,{size:40}),e.jsx("span",{className:"font-bold mt-2",children:"ThÃªm há»c sinh má»›i"})]})]}),f&&d.length>0&&e.jsx(V,{profiles:d,onAddStars:z,onClose:()=>g(!1)})]})}export{Z as HomePage};
