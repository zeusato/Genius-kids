.riddle-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000e6;display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.riddle-modal-content{background:linear-gradient(135deg,#1a1a2efa,#16213efa);border-radius:25px;padding:35px;max-width:650px;width:90%;max-height:88vh;overflow-y:auto;box-shadow:0 20px 60px #000c,0 0 100px #ffd7004d,inset 0 0 80px #ffd7000d;border:3px solid rgba(255,215,0,.4);animation:slideUp .4s ease;position:relative}@keyframes slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.riddle-sphinx-image,.riddle-result-sphinx{text-align:center;margin-bottom:20px;position:relative}.sphinx-modal-image{width:180px;height:auto;display:block;margin:0 auto 10px;animation:float-gentle 3s ease-in-out infinite;filter:drop-shadow(0 0 30px rgba(255,215,0,.7))}.sphinx-modal-image.correct{animation:float-gentle 3s ease-in-out infinite,bounce-celebrate .6s ease}.sphinx-modal-image.wrong{animation:float-gentle 3s ease-in-out infinite,shake-sad .5s ease}.mystical-aura{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:150px;height:150px;background:radial-gradient(circle,rgba(138,43,226,.4) 0%,transparent 70%);animation:pulse-mystical 2.5s ease-in-out infinite;pointer-events:none}.result-aura{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:140px;height:140px;animation:pulse-mystical 2.5s ease-in-out infinite;pointer-events:none}.success-aura{background:radial-gradient(circle,rgba(0,255,127,.4) 0%,transparent 70%)}.fail-aura{background:radial-gradient(circle,rgba(220,20,60,.4) 0%,transparent 70%)}@keyframes float-gentle{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}@keyframes pulse-mystical{0%,to{opacity:.3;transform:translate(-50%,-50%) scale(1)}50%{opacity:.6;transform:translate(-50%,-50%) scale(1.3)}}@keyframes bounce-celebrate{0%{transform:scale(0)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes shake-sad{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.riddle-dialogue,.riddle-result-dialogue{background:linear-gradient(135deg,#8a2be24d,#4b00824d);padding:15px 20px;border-radius:15px;margin-bottom:25px;text-align:center;border:2px solid rgba(255,215,0,.3);box-shadow:0 0 20px #8a2be24d,inset 0 0 20px #ffd7001a}.riddle-dialogue p,.riddle-result-dialogue p{color:gold;font-size:16px;font-style:italic;margin:0;font-weight:600;text-shadow:0 0 10px rgba(255,215,0,.5)}.riddle-result-dialogue{padding:12px 18px;margin-bottom:20px}.riddle-result-dialogue p{font-size:15px}.riddle-question{background:#ffffff0d;padding:20px;border-radius:15px;margin-bottom:15px;border-left:4px solid #ffd700;box-shadow:0 4px 15px #0000004d,inset 0 0 20px #ffd7000d}.riddle-question h3{color:gold;font-size:18px;margin:0 0 15px;text-shadow:0 0 10px rgba(255,215,0,.5)}.riddle-question p{color:#fff;font-size:17px;line-height:1.6;margin:0}.riddle-hint{text-align:center;margin-bottom:20px;padding:10px;background:#ffd7001a;border-radius:10px;border:1px solid rgba(255,215,0,.2)}.riddle-hint small{color:gold;font-size:14px;font-style:italic}.riddle-input-section{margin-bottom:25px}.riddle-input{width:100%;padding:15px 20px;font-size:16px;border:3px solid rgba(255,215,0,.3);border-radius:15px;background:#ffffff0d;color:#fff;transition:all .3s ease;box-sizing:border-box}.riddle-input::placeholder{color:#fff6}.riddle-input:focus{outline:none;border-color:gold;background:#ffffff14;box-shadow:0 0 20px #ffd70066,inset 0 0 10px #ffd7001a}.riddle-actions{display:flex;gap:15px;justify-content:flex-end}.riddle-cancel-btn,.riddle-submit-btn{padding:12px 30px;border:2px solid;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.riddle-cancel-btn{background:#ffffff0d;color:#ffffffb3;border-color:#ffffff4d}.riddle-cancel-btn:hover{background:#ffffff1a;color:#fff;transform:translateY(-2px);box-shadow:0 5px 15px #fff3}.riddle-submit-btn{background:linear-gradient(135deg,#8b0000,#dc143c);color:gold;border-color:gold;box-shadow:0 5px 20px #dc143c66;text-shadow:0 0 5px rgba(255,215,0,.5)}.riddle-submit-btn:hover{transform:translateY(-3px);box-shadow:0 8px 25px #dc143c99}.riddle-result-title{text-align:center;margin-bottom:15px}.riddle-result-title h3{font-size:26px;margin:0}.riddle-result-title h3.correct{color:#00ff7f;text-shadow:0 0 15px rgba(0,255,127,.8)}.riddle-result-title h3.wrong{color:#ff6b6b;text-shadow:0 0 15px rgba(220,20,60,.8)}.riddle-result-content{padding:20px;border-radius:15px;border:2px solid}.riddle-result-content.correct{background:linear-gradient(135deg,#0064004d,#0080004d);border-color:#00ff7f80;box-shadow:0 0 30px #00ff7f4d,inset 0 0 30px #00ff7f1a}.riddle-result-content.wrong{background:linear-gradient(135deg,#8b00004d,#dc143c4d);border-color:#dc143c80;box-shadow:0 0 30px #dc143c4d,inset 0 0 30px #dc143c1a}.correct-answer{background:#0000004d;padding:15px;border-radius:10px;margin-bottom:15px;border:1px solid rgba(255,215,0,.2);color:#fff;font-size:16px;line-height:1.5}.correct-answer strong{color:gold;display:block;margin-bottom:8px;font-size:15px;text-shadow:0 0 10px rgba(255,215,0,.5)}.answer-explanation{background:#0000004d;padding:15px;border-radius:10px;margin-bottom:15px;border:1px solid rgba(255,215,0,.2)}.answer-explanation strong{color:gold;display:block;margin-bottom:8px;font-size:15px;text-shadow:0 0 10px rgba(255,215,0,.5)}.answer-explanation p{margin:0;color:#ffffffe6;line-height:1.6;font-size:15px}.wrong-message{background:#0000004d;padding:20px;border-radius:10px;margin-bottom:15px;border:1px solid rgba(220,20,60,.3);text-align:center}.wrong-message p{margin:0;color:#fff;font-size:16px;line-height:1.6;font-weight:500}.penalty-notice{background:#ffa50033;padding:15px;border-radius:10px;margin-top:15px;border:2px solid rgba(255,165,0,.4);text-align:center}.penalty-notice p{margin:0;color:orange;font-size:15px;font-weight:600}.reward-display{background:#0006;padding:18px;border-radius:10px;text-align:center;border:2px solid rgba(0,255,127,.4);box-shadow:0 0 20px #00ff7f33;margin-top:15px}.stars-reward{font-size:24px;font-weight:700;color:gold;text-shadow:0 0 15px rgba(255,215,0,.8);animation:glow-pulse 2s ease-in-out infinite}@keyframes glow-pulse{0%,to{text-shadow:0 0 10px rgba(255,215,0,.6)}50%{text-shadow:0 0 20px rgba(255,215,0,1)}}.penalty-display{background:#0006;padding:18px;border-radius:10px;text-align:center;border:2px solid rgba(220,20,60,.4);box-shadow:0 0 20px #dc143c33;margin-top:15px}.penalty-stars{font-size:24px;font-weight:700;color:#ff6b6b;text-shadow:0 0 10px rgba(220,20,60,.8)}.penalty-skip{font-size:18px;font-weight:600;color:#ff6b6b;padding:12px;background:#dc143c33;border-radius:8px;border:2px solid rgba(220,20,60,.4)}.riddle-result-actions{display:flex;gap:15px;justify-content:center;margin-top:20px}.riddle-confirm-btn{background:linear-gradient(135deg,#8b0000,#dc143c);color:gold;border:2px solid #ffd700;border-radius:12px;padding:15px 50px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 20px #dc143c80}.riddle-confirm-btn:hover{transform:translateY(-3px);box-shadow:0 8px 30px #dc143cb3}.riddle-modal-content::-webkit-scrollbar{width:8px}.riddle-modal-content::-webkit-scrollbar-track{background:#0000004d;border-radius:10px}.riddle-modal-content::-webkit-scrollbar-thumb{background:#ffd7004d;border-radius:10px}.riddle-modal-content::-webkit-scrollbar-thumb:hover{background:#ffd70080}@media(max-width:768px){.riddle-modal-content{padding:25px;width:95%;max-height:90vh}.sphinx-modal-image{width:140px}.riddle-question p{font-size:15px}.riddle-actions,.riddle-result-actions{flex-direction:column}.riddle-cancel-btn,.riddle-submit-btn,.riddle-confirm-btn{width:100%}.riddle-result-title h3{font-size:22px}}.sphinx-riddle-screen{min-height:100vh;background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);background-size:400% 400%;animation:mystical-gradient 15s ease infinite;padding:20px;position:relative;overflow:hidden}@keyframes mystical-gradient{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}.sphinx-riddle-screen:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(2px 2px at 20% 30%,white,transparent),radial-gradient(2px 2px at 60% 70%,white,transparent),radial-gradient(1px 1px at 50% 50%,white,transparent),radial-gradient(1px 1px at 80% 10%,white,transparent),radial-gradient(2px 2px at 90% 60%,white,transparent),radial-gradient(1px 1px at 33% 90%,white,transparent);background-size:200% 200%;background-position:0% 0%;animation:stars-twinkle 20s linear infinite;opacity:.3;pointer-events:none}@keyframes stars-twinkle{0%,to{opacity:.3}50%{opacity:.6}}.sphinx-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;position:relative;z-index:10}.back-button{background:#ffffff1a;color:gold;border:2px solid rgba(255,215,0,.3);padding:10px 20px;border-radius:10px;font-size:16px;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.back-button:hover{background:#ffd70033;border-color:gold;transform:translate(-5px);box-shadow:0 0 20px #ffd7004d}.student-info{display:flex;gap:20px;background:#ffffff14;padding:10px 20px;border-radius:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,215,0,.2)}.student-name{color:gold;font-weight:700;font-size:18px;text-shadow:0 0 10px rgba(255,215,0,.5)}.student-stars{color:gold;font-weight:700;font-size:18px;text-shadow:0 0 10px rgba(255,215,0,.8)}.sphinx-main-content{max-width:900px;margin:0 auto;background:#0006;border-radius:20px;padding:40px;box-shadow:0 20px 60px #0009,inset 0 0 100px #ffd7000d;border:2px solid rgba(255,215,0,.2);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);position:relative;z-index:5}.sphinx-image-container{text-align:center;margin-bottom:30px;position:relative}.sphinx-main-image{width:200px;height:auto;display:block;margin:0 auto;animation:float-mystical 4s ease-in-out infinite;filter:drop-shadow(0 0 30px rgba(255,215,0,.6))}.mystical-glow{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:200px;height:200px;background:radial-gradient(circle,rgba(255,215,0,.3) 0%,transparent 70%);animation:pulse-glow 3s ease-in-out infinite;pointer-events:none}@keyframes float-mystical{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@keyframes pulse-glow{0%,to{opacity:.3;transform:translate(-50%,-50%) scale(1)}50%{opacity:.6;transform:translate(-50%,-50%) scale(1.2)}}.sphinx-dialogue{text-align:center;margin-bottom:40px;padding:20px 30px;background:linear-gradient(135deg,#8a2be24d,#4b00824d);border-radius:15px;color:gold;border:2px solid rgba(255,215,0,.3);box-shadow:0 0 30px #8a2be266,inset 0 0 30px #ffd7001a}.sphinx-dialogue p{font-size:20px;font-weight:600;margin:0;font-style:italic;text-shadow:0 0 10px rgba(255,215,0,.5)}.selection-container,.difficulty-section,.category-section{margin-bottom:30px}.difficulty-section h3,.category-section h3{color:gold;margin-bottom:15px;font-size:18px;text-shadow:0 0 10px rgba(255,215,0,.5)}.difficulty-buttons,.category-buttons{display:flex;gap:15px;flex-wrap:wrap}.difficulty-btn,.category-btn{flex:1;min-width:150px;padding:15px 25px;border:2px solid rgba(255,215,0,.3);background:#ffffff0d;border-radius:15px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.difficulty-btn:hover,.category-btn:hover{transform:translateY(-3px);box-shadow:0 5px 20px #ffd70066;background:#ffd7001a}.difficulty-btn.active{background:linear-gradient(135deg,#8a2be299,#4b008299);color:gold;border-color:gold;box-shadow:0 0 20px #8a2be299,0 0 40px #ffd70066}.category-btn.active{background:linear-gradient(135deg,#b2222299,#8b000099);color:gold;border-color:gold;box-shadow:0 0 20px #b2222299,0 0 40px #ffd70066}.start-button{width:100%;padding:20px;background:linear-gradient(135deg,#8b0000,#dc143c);color:gold;border:2px solid #ffd700;border-radius:15px;font-size:20px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 10px 30px #dc143c80,0 0 40px #ffd7004d;text-shadow:0 0 10px rgba(255,215,0,.8)}.start-button:hover{transform:translateY(-5px);box-shadow:0 15px 40px #dc143cb3,0 0 60px #ffd70080}.start-button:active{transform:translateY(0)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:2000;animation:fadeIn .3s ease;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.congrat-modal{background:linear-gradient(135deg,#1a1a2ef2,#16213ef2);border-radius:25px;padding:50px 40px;max-width:500px;width:90%;text-align:center;box-shadow:0 20px 60px #000c,0 0 100px #ffd7004d,inset 0 0 50px #ffd7001a;border:3px solid rgba(255,215,0,.5);animation:modalSlideUp .4s ease}@keyframes modalSlideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.congrat-icon{font-size:80px;margin-bottom:20px;animation:rotate-celebrate 2s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(255,215,0,.6))}@keyframes rotate-celebrate{0%,to{transform:rotate(-10deg) scale(1)}50%{transform:rotate(10deg) scale(1.1)}}.congrat-modal h2{color:gold;margin:0 0 20px;font-size:32px;text-shadow:0 0 20px rgba(255,215,0,.8)}.congrat-modal p{color:#fff;font-size:18px;margin:15px 0;line-height:1.6}.congrat-modal strong{color:gold;text-transform:uppercase;font-weight:900;text-shadow:0 0 10px rgba(255,215,0,.6)}.congrat-subtitle{font-size:16px!important;color:#ffffffb3!important;margin-top:10px!important}.congrat-close-btn{margin-top:30px;padding:15px 50px;background:linear-gradient(135deg,#8b0000,#dc143c);color:gold;border:2px solid #ffd700;border-radius:12px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 20px #dc143c80}.congrat-close-btn:hover{transform:translateY(-3px);box-shadow:0 8px 30px #dc143cb3}@media(max-width:768px){.sphinx-main-content{padding:20px}.sphinx-main-image{width:150px}.sphinx-dialogue p{font-size:16px}.difficulty-buttons,.category-buttons{flex-direction:column}.difficulty-btn,.category-btn{min-width:100%}.congrat-modal{padding:35px 25px}.congrat-modal h2{font-size:26px}.congrat-modal p{font-size:16px}.congrat-icon{font-size:60px}}
